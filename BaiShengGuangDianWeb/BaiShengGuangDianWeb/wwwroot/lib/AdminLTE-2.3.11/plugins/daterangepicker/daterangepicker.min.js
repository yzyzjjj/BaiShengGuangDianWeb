/**
* @version: 2.1.19
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2015 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: https://www.improvely.com/
*/
(function(n,t){if(typeof define=="function"&&define.amd)define(["moment","jquery","exports"],function(i,r,u){n.daterangepicker=t(n,u,i,r)});else if(typeof exports!="undefined"){var r=require("moment"),i=typeof window!="undefined"?window.jQuery:undefined;if(!i)try{i=require("jquery");i.fn||(i.fn={})}catch(u){if(!i)throw new Error("jQuery dependency not found");}t(n,exports,r,i)}else n.daterangepicker=t(n,{},n.moment||moment,n.jQuery||n.Zepto||n.ender||n.$)})(this||{},function(n,t,i,r){var u=function(n,t,u){var a,f,e,o,h,l,s,v,p,c,y,w;if(this.parentEl="body",this.element=r(n),this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof t!="object"||t===null)&&(t={}),t=r.extend(this.element.data(),t),typeof t.template=="string"||t.template instanceof r||(t.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"><\/i><div class="calendar-time"><div><\/div><i class="fa fa-clock-o glyphicon glyphicon-time"><\/i><\/div><\/div><div class="calendar-table"><\/div><\/div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"><\/i><div class="calendar-time"><div><\/div><i class="fa fa-clock-o glyphicon glyphicon-time"><\/i><\/div><\/div><div class="calendar-table"><\/div><\/div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"><\/button> <button class="cancelBtn" type="button"><\/button><\/div><\/div><\/div>'),this.parentEl=t.parentEl&&r(t.parentEl).length?r(t.parentEl):r(this.parentEl),this.container=r(t.template).appendTo(this.parentEl),typeof t.locale=="object"&&(typeof t.locale.format=="string"&&(this.locale.format=t.locale.format),typeof t.locale.separator=="string"&&(this.locale.separator=t.locale.separator),typeof t.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),typeof t.locale.monthNames=="object"&&(this.locale.monthNames=t.locale.monthNames.slice()),typeof t.locale.firstDay=="number"&&(this.locale.firstDay=t.locale.firstDay),typeof t.locale.applyLabel=="string"&&(this.locale.applyLabel=t.locale.applyLabel),typeof t.locale.cancelLabel=="string"&&(this.locale.cancelLabel=t.locale.cancelLabel),typeof t.locale.weekLabel=="string"&&(this.locale.weekLabel=t.locale.weekLabel),typeof t.locale.customRangeLabel=="string"&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),typeof t.startDate=="string"&&(this.startDate=i(t.startDate,this.locale.format)),typeof t.endDate=="string"&&(this.endDate=i(t.endDate,this.locale.format)),typeof t.minDate=="string"&&(this.minDate=i(t.minDate,this.locale.format)),typeof t.maxDate=="string"&&(this.maxDate=i(t.maxDate,this.locale.format)),typeof t.startDate=="object"&&(this.startDate=i(t.startDate)),typeof t.endDate=="object"&&(this.endDate=i(t.endDate)),typeof t.minDate=="object"&&(this.minDate=i(t.minDate)),typeof t.maxDate=="object"&&(this.maxDate=i(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof t.applyClass=="string"&&(this.applyClass=t.applyClass),typeof t.cancelClass=="string"&&(this.cancelClass=t.cancelClass),typeof t.dateLimit=="object"&&(this.dateLimit=t.dateLimit),typeof t.opens=="string"&&(this.opens=t.opens),typeof t.drops=="string"&&(this.drops=t.drops),typeof t.showWeekNumbers=="boolean"&&(this.showWeekNumbers=t.showWeekNumbers),typeof t.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=t.showISOWeekNumbers),typeof t.buttonClasses=="string"&&(this.buttonClasses=t.buttonClasses),typeof t.buttonClasses=="object"&&(this.buttonClasses=t.buttonClasses.join(" ")),typeof t.showDropdowns=="boolean"&&(this.showDropdowns=t.showDropdowns),typeof t.singleDatePicker=="boolean"&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof t.timePicker=="boolean"&&(this.timePicker=t.timePicker),typeof t.timePickerSeconds=="boolean"&&(this.timePickerSeconds=t.timePickerSeconds),typeof t.timePickerIncrement=="number"&&(this.timePickerIncrement=t.timePickerIncrement),typeof t.timePicker24Hour=="boolean"&&(this.timePicker24Hour=t.timePicker24Hour),typeof t.autoApply=="boolean"&&(this.autoApply=t.autoApply),typeof t.autoUpdateInput=="boolean"&&(this.autoUpdateInput=t.autoUpdateInput),typeof t.linkedCalendars=="boolean"&&(this.linkedCalendars=t.linkedCalendars),typeof t.isInvalidDate=="function"&&(this.isInvalidDate=t.isInvalidDate),typeof t.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=t.alwaysShowCalendars),this.locale.firstDay!=0)for(a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;if(typeof t.startDate=="undefined"&&typeof t.endDate=="undefined"&&r(this.element).is("input[type=text]")&&(h=r(this.element).val(),l=h.split(this.locale.separator),f=e=null,l.length==2?(f=i(l[0],this.locale.format),e=i(l[1],this.locale.format)):this.singleDatePicker&&h!==""&&(f=i(h,this.locale.format),e=i(h,this.locale.format)),f!==null&&e!==null&&(this.setStartDate(f),this.setEndDate(e))),typeof t.ranges=="object"){for(o in t.ranges)(f=typeof t.ranges[o][0]=="string"?i(t.ranges[o][0],this.locale.format):i(t.ranges[o][0]),e=typeof t.ranges[o][1]=="string"?i(t.ranges[o][1],this.locale.format):i(t.ranges[o][1]),this.minDate&&f.isBefore(this.minDate)&&(f=this.minDate.clone()),s=this.maxDate,this.dateLimit&&f.clone().add(this.dateLimit).isAfter(s)&&(s=f.clone().add(this.dateLimit)),s&&e.isAfter(s)&&(e=s.clone()),this.minDate&&e.isBefore(this.minDate)||s&&f.isAfter(s))||(v=document.createElement("textarea"),v.innerHTML=o,p=v.value,this.ranges[p]=[f,e]);c="<ul>";for(o in this.ranges)c+="<li>"+o+"<\/li>";c+="<li>"+this.locale.customRangeLabel+"<\/li>";c+="<\/ul>";this.container.find(".ranges").prepend(c)}typeof u=="function"&&(this.callback=u);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&typeof t.ranges!="object"?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide());(typeof t.ranges=="undefined"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);typeof t.ranges!="undefined"&&this.opens=="right"&&(y=this.container.find(".ranges"),w=y.clone(),y.remove(),this.container.find(".calendar.left").parent().prepend(w));this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",r.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",r.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",r.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",r.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",r.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",r.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",r.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",r.proxy(this.clickCancel,this)).on("click.daterangepicker","li",r.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",r.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",r.proxy(this.updateFormInputs,this));if(this.element.is("input"))this.element.on({"click.daterangepicker":r.proxy(this.show,this),"focus.daterangepicker":r.proxy(this.show,this),"keyup.daterangepicker":r.proxy(this.elementChanged,this),"keydown.daterangepicker":r.proxy(this.keydown,this)});else this.element.on("click.daterangepicker",r.proxy(this.toggle,this));this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return u.prototype={constructor:u,setStartDate:function(n){typeof n=="string"&&(this.startDate=i(n,this.locale.format));typeof n=="object"&&(this.startDate=i(n));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate);this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate);this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(n){typeof n=="string"&&(this.endDate=i(n,this.locale.format));typeof n=="object"&&(this.endDate=i(n));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate);this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit));this.previousRightTime=this.endDate.clone();this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled"));this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active"));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){var n,i,r,t;(this.timePicker&&(this.endDate?(n=parseInt(this.container.find(".left .hourselect").val(),10),i=parseInt(this.container.find(".left .minuteselect").val(),10),r=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||(t=this.container.find(".left .ampmselect").val(),t==="PM"&&n<12&&(n+=12),t==="AM"&&n===12&&(n=0))):(n=parseInt(this.container.find(".right .hourselect").val(),10),i=parseInt(this.container.find(".right .minuteselect").val(),10),r=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||(t=this.container.find(".right .ampmselect").val(),t==="PM"&&n<12&&(n+=12),t==="AM"&&n===12&&(n=0))),this.leftCalendar.month.hour(n).minute(i).second(r),this.rightCalendar.month.hour(n).minute(i).second(r)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),this.endDate!=null)&&this.calculateChosenLabel()},renderCalendar:function(n){var t=n=="left"?this.leftCalendar:this.rightCalendar,d=t.month.month(),g=t.month.year(),vt=t.month.hour(),ft=t.month.minute(),et=t.month.second(),yt=i([g,d]).daysInMonth(),w=i([g,d,1]),pt=i([g,d,yt]),ot=i(w).subtract(1,"month").month(),st=i(w).subtract(1,"month").year(),nt=i([st,ot]).daysInMonth(),ht=w.day(),t=[],a,v,tt,h,b,l,rt,f,u,o,k,ut,s;for(t.firstDay=w,t.lastDay=pt,s=0;s<6;s++)t[s]=[];a=nt-ht+this.locale.firstDay+1;a>nt&&(a-=7);ht==this.locale.firstDay&&(a=nt-6);v=i([st,ot,a,12,ft,et]);for(var s=0,u=0,f=0;s<42;s++,u++,v=i(v).add(24,"hour"))s>0&&u%7==0&&(u=0,f++),t[f][u]=v.clone().hour(vt).minute(ft).second(et),v.hour(12),this.minDate&&t[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[f][u].isBefore(this.minDate)&&n=="left"&&(t[f][u]=this.minDate.clone()),this.maxDate&&t[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[f][u].isAfter(this.maxDate)&&n=="right"&&(t[f][u]=this.maxDate.clone());n=="left"?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var y=n=="left"?this.minDate:this.startDate,c=this.maxDate,kt=n=="left"?this.startDate:this.endDate,e='<table class="table-condensed">';if(e+="<thead>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+="<th><\/th>"),e+=y&&!y.isBefore(t.firstDay)||this.linkedCalendars&&n!="left"?"<th><\/th>":'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"><\/i><\/th>',tt=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY"),this.showDropdowns){var ct=t[1][1].month(),p=t[1][1].year(),lt=c&&c.year()||p+5,at=y&&y.year()||p-50,wt=p==at,bt=p==lt,it='<select class="monthselect">';for(h=0;h<12;h++)it+=(!wt||h>=y.month())&&(!bt||h<=c.month())?"<option value='"+h+"'"+(h===ct?" selected='selected'":"")+">"+this.locale.monthNames[h]+"<\/option>":"<option value='"+h+"'"+(h===ct?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[h]+"<\/option>";for(it+="<\/select>",b='<select class="yearselect">',l=at;l<=lt;l++)b+='<option value="'+l+'"'+(l===p?' selected="selected"':"")+">"+l+"<\/option>";b+="<\/select>";tt=it+b}for(e+='<th colspan="5" class="month">'+tt+"<\/th>",e+=(!c||c.isAfter(t.lastDay))&&(!this.linkedCalendars||n=="right"||this.singleDatePicker)?'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"><\/i><\/th>':"<th><\/th>",e+="<\/tr>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),r.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",this.endDate==null&&this.dateLimit&&(rt=this.startDate.clone().add(this.dateLimit).endOf("day"),(!c||rt.isBefore(c))&&(c=rt)),f=0;f<6;f++){for(e+="<tr>",this.showWeekNumbers?e+='<td class="week">'+t[f][0].week()+"<\/td>":this.showISOWeekNumbers&&(e+='<td class="week">'+t[f][0].isoWeek()+"<\/td>"),u=0;u<7;u++){for(o=[],t[f][u].isSame(new Date,"day")&&o.push("today"),t[f][u].isoWeekday()>5&&o.push("weekend"),t[f][u].month()!=t[1][1].month()&&o.push("off"),this.minDate&&t[f][u].isBefore(this.minDate,"day")&&o.push("off","disabled"),c&&t[f][u].isAfter(c,"day")&&o.push("off","disabled"),this.isInvalidDate(t[f][u])&&o.push("off","disabled"),t[f][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&o.push("active","start-date"),this.endDate!=null&&t[f][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&o.push("active","end-date"),this.endDate!=null&&t[f][u]>this.startDate&&t[f][u]<this.endDate&&o.push("in-range"),k="",ut=!1,s=0;s<o.length;s++)k+=o[s]+" ",o[s]=="disabled"&&(ut=!0);ut||(k+="available");e+='<td class="'+k.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+t[f][u].date()+"<\/td>"}e+="<\/tr>"}e+="<\/tbody>";e+="<\/table>";this.container.find(".calendar."+n+" .calendar-table").html(e)},renderTimePicker:function(n){var r,i,e,f=this.maxDate,s,v,y,p,c,o,u,t,l,a;for(this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate))&&(f=this.startDate.clone().add(this.dateLimit)),n=="left"?(i=this.startDate.clone(),e=this.minDate):n=="right"&&(i=this.endDate?this.endDate.clone():this.previousRightTime.clone(),e=this.startDate,s=this.container.find(".calendar.right .calendar-time div"),s.html()!=""&&(i.hour(s.find(".hourselect option:selected").val()||i.hour()),i.minute(s.find(".minuteselect option:selected").val()||i.minute()),i.second(s.find(".secondselect option:selected").val()||i.second()),this.timePicker24Hour||(v=s.find(".ampmselect option:selected").val(),v==="PM"&&i.hour()<12&&i.hour(i.hour()+12),v==="AM"&&i.hour()===12&&i.hour(0)),i.isBefore(this.startDate)&&(i=this.startDate.clone()),i.isAfter(f)&&(i=f.clone()))),r='<select class="hourselect">',y=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,t=y;t<=p;t++)c=t,this.timePicker24Hour||(c=i.hour()>=12?t==12?12:t+12:t==12?0:t),o=i.clone().hour(c),u=!1,e&&o.minute(59).isBefore(e)&&(u=!0),f&&o.minute(0).isAfter(f)&&(u=!0),r+=c!=i.hour()||u?u?'<option value="'+t+'" disabled="disabled" class="disabled">'+t+"<\/option>":'<option value="'+t+'">'+t+"<\/option>":'<option value="'+t+'" selected="selected">'+t+"<\/option>";for(r+="<\/select> ",r+=': <select class="minuteselect">',t=0;t<60;t+=this.timePickerIncrement){var h=t<10?"0"+t:t,o=i.clone().minute(t),u=!1;e&&o.second(59).isBefore(e)&&(u=!0);f&&o.second(0).isAfter(f)&&(u=!0);r+=i.minute()!=t||u?u?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}if(r+="<\/select> ",this.timePickerSeconds){for(r+=': <select class="secondselect">',t=0;t<60;t++){var h=t<10?"0"+t:t,o=i.clone().second(t),u=!1;e&&o.isBefore(e)&&(u=!0);f&&o.isAfter(f)&&(u=!0);r+=i.second()!=t||u?u?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}r+="<\/select> "}this.timePicker24Hour||(r+='<select class="ampmselect">',l="",a="",e&&i.clone().hour(12).minute(0).second(0).isBefore(e)&&(l=' disabled="disabled" class="disabled"'),f&&i.clone().hour(0).minute(0).second(0).isAfter(f)&&(a=' disabled="disabled" class="disabled"'),r+=i.hour()>=12?'<option value="AM"'+l+'>AM<\/option><option value="PM" selected="selected"'+a+">PM<\/option>":'<option value="AM" selected="selected"'+l+'>AM<\/option><option value="PM"'+a+">PM<\/option>",r+="<\/select>");this.container.find(".calendar."+n+" .calendar-time div").html(r)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var n={top:0,left:0},t,i=r(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left);t=this.drops=="up"?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top;this.container[this.drops=="up"?"addClass":"removeClass"]("dropup");this.opens=="left"?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):this.opens=="center"?(this.container.css({top:t,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>r(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){if(!this.isShowing){this._outsideClickProxy=r.proxy(function(n){this.outsideClick(n)},this);r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);r(window).on("resize.daterangepicker",r.proxy(function(n){this.move(n)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.previousRightTime=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=!0}},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),r(document).off(".daterangepicker"),r(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(n){var t=r(n.target);n.type=="focusin"||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(n){var t,i;this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(t=n.target.innerHTML,t==this.locale.customRangeLabel?this.updateView():(i=this.ranges[t],this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))))},clickRange:function(n){var t=n.target.innerHTML,i;this.chosenLabel=t;t==this.locale.customRangeLabel?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(n){var t=r(n.target).parents(".calendar");t.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){var t=r(n.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(n){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&r(n.target).hasClass("available")){var i=r(n.target).attr("data-title"),u=i.substr(1,1),f=i.substr(3,1),e=r(n.target).parents(".calendar"),t=e.hasClass("left")?this.leftCalendar.calendar[u][f]:this.rightCalendar.calendar[u][f];this.endDate?this.container.find("input[name=daterangepicker_start]").val(t.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(t.format(this.locale.format));var o=this.leftCalendar,s=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".calendar td").each(function(n,i){if(!r(i).hasClass("week")){var u=r(i).attr("data-title"),f=u.substr(1,1),e=u.substr(3,1),l=r(i).parents(".calendar"),c=l.hasClass("left")?o.calendar[f][e]:s.calendar[f][e];c.isAfter(h)&&c.isBefore(t)?r(i).addClass("in-range"):r(i).removeClass("in-range")}})}},clickDate:function(n){var t,u,f,e;if(r(n.target).hasClass("available")){var o=r(n.target).attr("data-title"),s=o.substr(1,1),h=o.substr(3,1),c=r(n.target).parents(".calendar"),i=c.hasClass("left")?this.leftCalendar.calendar[s][h]:this.rightCalendar.calendar[s][h];this.endDate||i.isBefore(this.startDate,"day")?(this.timePicker&&(t=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||(u=this.container.find(".left .ampmselect").val(),u==="PM"&&t<12&&(t+=12),u==="AM"&&t===12&&(t=0)),f=parseInt(this.container.find(".left .minuteselect").val(),10),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,i=i.clone().hour(t).minute(f).second(e)),this.endDate=null,this.setStartDate(i.clone())):!this.endDate&&i.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(t=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||(u=this.container.find(".right .ampmselect").val(),u==="PM"&&t<12&&(t+=12),u==="AM"&&t===12&&(t=0)),f=parseInt(this.container.find(".right .minuteselect").val(),10),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,i=i.clone().hour(t).minute(f).second(e)),this.setEndDate(i.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply());this.updateView()}},calculateChosenLabel:function(){var t=!0,i=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){t=!1;this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1;this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html();break}i++}t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(n){var u=r(n.target).closest(".calendar").hasClass("left"),e=u?"left":"right",f=this.container.find(".calendar."+e),i=parseInt(f.find(".monthselect").val(),10),t=f.find(".yearselect").val();u||(t<this.startDate.year()||t==this.startDate.year()&&i<this.startDate.month())&&(i=this.startDate.month(),t=this.startDate.year());this.minDate&&(t<this.minDate.year()||t==this.minDate.year()&&i<this.minDate.month())&&(i=this.minDate.month(),t=this.minDate.year());this.maxDate&&(t>this.maxDate.year()||t==this.maxDate.year()&&i>this.maxDate.month())&&(i=this.maxDate.month(),t=this.maxDate.year());u?(this.leftCalendar.month.month(i).year(t),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(i).year(t),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(n){var u=r(n.target).closest(".calendar"),h=u.hasClass("left"),i=parseInt(u.find(".hourselect").val(),10),o=parseInt(u.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(u.find(".secondselect").val(),10):0,e,t,f;this.timePicker24Hour||(e=u.find(".ampmselect").val(),e==="PM"&&i<12&&(i+=12),e==="AM"&&i===12&&(i=0));h?(t=this.startDate.clone(),t.hour(i),t.minute(o),t.second(s),this.setStartDate(t),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&this.endDate.isBefore(t)&&this.setEndDate(t.clone())):this.endDate&&(f=this.endDate.clone(),f.hour(i),f.minute(o),f.second(s),this.setEndDate(f));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(n){var f=r(n.target).closest(".calendar").hasClass("right"),t=i(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),u=i(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);t.isValid()&&u.isValid()&&(f&&u.isBefore(t)&&(t=u.clone()),this.setStartDate(t),this.setEndDate(u),f?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format)));this.updateCalendars();this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var r=this.element.val().split(this.locale.separator),n=null,t=null;(r.length===2&&(n=i(r[0],this.locale.format),t=i(r[1],this.locale.format)),(this.singleDatePicker||n===null||t===null)&&(n=i(this.element.val(),this.locale.format),t=n),n.isValid()&&t.isValid())&&(this.setStartDate(n),this.setEndDate(t),this.updateView())}},keydown:function(n){(n.keyCode===9||n.keyCode===13)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}},r.fn.daterangepicker=function(n,t){return this.each(function(){var i=r(this);i.data("daterangepicker")&&i.data("daterangepicker").remove();i.data("daterangepicker",new u(i,n,t))}),this},u});